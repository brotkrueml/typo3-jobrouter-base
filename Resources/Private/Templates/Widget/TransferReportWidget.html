<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
<f:layout name="Widget/Widget" />

<f:section name="title">
    <f:translate key="{configuration.title}"/>
    <f:variable name="errorCount" value="{items -> f:count()}"/>
    <b class="badge badge-{f:if(condition: '{errorCount} == 0', then: 'success', else: 'danger')}">{errorCount}</b>
</f:section>

<f:section name="main">
    <div class="widget-table-wrapper">
        <table class="widget-table">
            <tr>
                <th>Creation date (translate)</th>
                <th>Message (translate)</th>
                <th>Correlation Id (translate)</th>
            </tr>
            <f:for each="{items}" as="item">
                <tr>
                    <td><f:format.date format="{f:translate(key: 'LLL:EXT:jobrouter_base/Resources/Private/Language/General.xlf:dateFormat')} {f:translate(key: 'LLL:EXT:jobrouter_base/Resources/Private/Language/General.xlf:timeFormat')}" date="{item.creationDate}"/></td>
                    <td>{item.message}</td>
                    <td>{item.correlationId}</td>
                </tr>
            </f:for>
        </table>
    </div>
</f:section>

</html>
